<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Book I - Proposition 13</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background: #ffffff;
      color: #000;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 { font-size: 24px; margin-bottom: 10px; }
     #chat {
    border: 1px solid #ccc;
    padding: 10px;
    min-height: 200px;
    white-space: pre-wrap;
    display: flex;          /* stack messages */
    flex-direction: column; 
    gap: 10px;              /* space between bot/user lines */
    }
    #inputArea {
      margin-top: 10px;
    }
    input[type="text"] {
      width: 100%;
      padding: 8px;
      font-family: inherit;
      font-size: 14px;
    }
  </style>
</head>
<body>

<h1>I.13 - prove angles on a line are right or sum to two right angles
</h1>
<p>If a straight line stands on a straight line, then it makes either two right angles or angles whose sum equals two right angles.</p>

<div id="chat"></div>

<div id="inputArea">
  <input id="userInput" type="text" placeholder="Type 'yes' or 'no'..." autofocus>
</div>

<script>
const steps = [
  { q: `Welcome to Euclid's Elements I.13 chatbot!
   
We are given a straight line CD, and another straight line AB standing on it at point B. Agreed? (yes/no):`,
    hint: `Imagine AB standing upright on CD, forming two angles at point B.` },
  { q: `These two angles are ∠CBA and ∠ABD. Do you see this? (yes/no):`,
    hint: `One angle is on the left of AB, the other on the right.` },
  { q: `Now, if ∠CBA = ∠ABD, would each of them be a right angle? (yes/no):`,
    hint: `By Definition I.10, if adjacent angles are equal, then each is a right angle.` },
  { q: `So in that case, do the two angles together make two right angles? (yes/no):`,
    hint: `Two right angles side by side equal exactly two right angles.` },
  { q: `But if ∠CBA ≠ ∠ABD, then let’s drop a perpendicular BE from B to CD. Is this allowed? (yes/no):`,
    hint: `Proposition I.11 shows how to draw a perpendicular to a line from a point on it.` },
  { q: `So ∠CBE and ∠EBD are two right angles. Do you agree? (yes/no):`,
    hint: `That is the definition of a perpendicular: it makes right angles.` },
  { q: `Now, ∠CBE is equal to ∠CBA + ∠ABE. Do you see why? (yes/no):`,
    hint: `∠CBE is made up of ∠CBA and ∠ABE joined together.` },
  { q: `If we then add ∠EBD to both, do we get ∠CBE + ∠EBD = ∠CBA + ∠ABE + ∠EBD? (yes/no):`,
    hint: `Common Notion 2: if equals are added to equals, the wholes are equal.` },
  { q: `Also, ∠DBA = ∠DBE + ∠EBA. Do you agree? (yes/no):`,
    hint: `∠DBA is made of ∠DBE and ∠EBA.` },
  { q: `Adding ∠ABC to both sides, do we get ∠DBA + ∠ABC = ∠DBE + ∠EBA + ∠ABC? (yes/no):`,
    hint: `Same reasoning: adding equals gives equals.` },
  { q: `But both expressions equal the same three angles. So are ∠CBE + ∠EBD = ∠DBA + ∠ABC? (yes/no):`,
    hint: `Common Notion 1: things equal to the same thing are equal to each other.` },
  { q: `They were shown equal to two right angles.`,
    hint: `If AB is not unequal to AC, then AB = AC.` },
];

let currentStep = 0;
const chatDiv = document.getElementById('chat');
const inputField = document.getElementById('userInput');

function addMessage(text, role = 'bot') {
  const div = document.createElement('div');
  div.className = `msg ${role}`;
  div.textContent = text;
  chatDiv.appendChild(div);
  chatDiv.scrollTop = chatDiv.scrollHeight;
}

function showStep() {
  if (currentStep < steps.length) {
    addMessage(steps[currentStep].q, 'bot');
  } else {
    addMessage(`Therefore, if a straight line stands on another, the two adjacent angles are either two right angles, or together equal to two right angles. Good job! 
Q.E.D. (Quod Erat Demonstrandum — which was to be demonstrated)`, 'bot');
    inputField.disabled = true;
  }
}


function processAnswer(answer) {
  addMessage(answer, 'user');
  if (answer.toLowerCase() === 'yes' || answer.toLowerCase() === 'y') {
    currentStep++;
    showStep();
  } else if (answer.toLowerCase() === 'no' || answer.toLowerCase() === 'n') {
    addMessage(`Hint: ${steps[currentStep].hint}`, 'bot');
  } else {
    addMessage(`Please answer 'yes' or 'no'.`, 'bot');
  }
}

inputField.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') {
    const answer = inputField.value.trim();
    if (answer) {
      processAnswer(answer);
      inputField.value = '';
    }
  }
});

// Start conversation
showStep();
</script>

</body>
</html>
